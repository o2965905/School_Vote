# 111年度資料庫程式設計作業

## 投票 / 問卷系統
**請建立一個投票或問卷系統可以提供投票或問卷功能，並能查看結果**

***
### 1. 畫面構思
![img](./img/%E7%95%AB%E9%9D%A2%E6%A7%8B%E6%80%9D.jpg)
+ **上方**區塊
    + 活動流程按鈕
    + 投票頁面按鈕
    + 會員登入按鈕
    + 回首頁按鈕
+ **中間**區塊
    + 呈現所有投票列表
+ **下方**區塊
    + 版權宣告
+ **左側**區塊
    + 廣告刊登
+ **右側**區塊
    + 廣告刊登

***
### 2. 功能構思 - 前台 & 後台
+ **前台功能**

  + **﹝前台﹞ - 活動流程公告**
    + 點進頁面可以告訴使用者投票流程

  + **﹝前台﹞ - 會員登入頁面** 
    + 可以登入帳號密碼
    + 可以前往註冊會員
    + 有找回密碼功能
      + 輸入註冊信箱就可以找回密碼

  + **﹝前台﹞ - 會員中心**
    + 需**使用者狀態**下才會出現按鈕會員中心按鈕
      + 可以看到會員當初註冊的資料
      + 可以修改會員資料(帳號除外)

  + **﹝前台﹞ - 投票頁面**
    +  顯示所有投票列表的狀態
        + 投票主題
        + 投票人數
        + 投票期間
        + 投票剩餘天數
    + 會員狀態可以點投票主題去投票
    + 訪客狀態只能看到投票結果
    + 有排序功能
    + 有分頁功能

  + **﹝前台﹞- 投票內容頁面**
    + 畫面中央顯示該投票主題
    + 每個主題都是單選題
    + 按下投票按鈕後,該選項可以增加票數

  + **﹝前台﹞ - 投票結果頁面** 
    + 畫面顯示該投票主題
    + 顯示該主題的總票數
    + 顯示每個投票選項的百分比
    + 投票結果呈現方式 : 長條圖
    + 上方有按鈕,依不同活動日期決定不同按鈕 
      + 活動尚未開始,按鈕導回首頁
      + 活動進行中,按鈕導向選擇投票內容頁面
      + 活動已結束,按鈕導回首頁

  
+ **後台功能** 
  + 需管理者狀態下,才能進入後台
  + 防止手動輸入後台網址,可以直接進入後台

  + **﹝後台﹞- 投票頁面**
    + 可以看到全部的投票列表
    + 有新增投票的按鈕
    + 投票主題後方有編輯按鈕 & 刪除按鈕

  + **﹝後台﹞- 新增投票頁面**
    + 點新增投票的按鈕,會跳轉到新增投票頁面
    + 可以新增投票主題
    + 有新增投票選項的按鈕
      + 每按一次新增選項,就會增加一列空白選項,可以輸入內容
    + 可以選擇投票主題的類別

  + **﹝後台﹞- 投票編輯頁面**
    + 投票主題後方,按下編輯按鈕會跳轉至編輯頁面
    + 編輯頁面可以把該主題的內容完整載入
      + 投票主題
      + 投票選項
      + 投票分類
    + 編輯完成後,按下修改按鈕,會跳轉回投票後台頁面

  + **﹝後台﹞- 投票刪除頁面**
    + 投票主題後方,點選刪除按鈕會跳轉至刪除頁面
    + 刪除頁面顯示以下內容
      + 網頁上方顯示一段警語,提示管理者是否確定要刪除該投票
      + 網頁中間顯示該投票主題
      + 網頁下方有確定 & 取消的按鈕
    + 按下取修按鈕,可以導回後台頁面
    + 按下確定按鈕,可以直接刪除該投票主題,並直接導回後台頁面

***
### 3. 資料表
#### 資料庫名稱 : vote

+ 資料表一 - **( users )** -> 使用者
  |欄位名稱|資料型態|預設值|A_I|備註|
  |--|--|--|--|--|
  |id|int(11)|無|自動遞增|唯一值|
  |acc|varchar(12)|--|--|帳號|
  |pw|varchar(16)|--|--|密碼|
  |name|varchar(64)|--|--|姓名|
  |birthday|date|--|--|生日|
  |email|varchar(64)|--|--|信箱|

+ 資料表二 - **( subjects )** -> 投票主題
  |欄位名稱|資料型態|預設值|A_I|備註|
  |--|--|--|--|--|
  |id|int(11)|無|自動遞增|唯一值|
  |subject|varchar(64)|--|--|主題|
  |type_id|int(11)|--|--|類別|
  |start|date|--|--|開始|
  |end|date|--|--|結束|
  |total|int(11)|--|--|總計|
    + 這裡的 *<u>total欄位</u>* 是紀錄有多少人來投票

+ 資料表三 - **( options )** -> 投票選項
  |欄位名稱|資料型態|預設值|A_I|備註|
  |--|--|--|--|--|
  |id|int(11)|無|自動遞增|唯一值|
  |option|varchar(64)|--|--|選項|
  |subject_id|int(11)|--|--|對應主題|
  |total|int(11)|--|--|總計|
    + 這裡的 *<u>total欄位</u>* 是紀錄選項被投過幾次

+ 資料表四 - **( logs )** -> 紀錄投票狀況
  |欄位名稱|資料型態|預設值|A_I|備註|
  |--|--|--|--|--|
  |id|int(11)|無|自動遞增|唯一值|
  |subject_id|int(11)|--|--|投的主題|
  |option_id|int(11)|--|--|投的選項|
  |vote_time|timestamp|--|--|投的時間|

+ 資料表五 - **( types )** -> 分類
  |欄位名稱|資料型態|預設值|A_I|備註|
  |--|--|--|--|--|
  |id|int(11)|無|自動遞增|唯一值|
  |name|varchar(64)|--|--|分類名稱|

***
### 動作要求
1. 分析需要的功能
    * 功能一....
    * 功能二....

2. 設計資料表
    * 資料表一(資料表名)
        |欄位名|資料型態|主鍵|預設值|自動遞增|備註|
        |---|---|---|---|---|---|
        |||||||
        |||||||
    * 資料表二(資料表名)
        |欄位名|資料型態|主鍵|預設值|自動遞增|備註|
        |---|---|---|---|---|---|
        |||||||
        |||||||
    
3. 請充分運用學到的各項網頁知識來美化這個投票系統的畫面
    * html標籤的應用(語意標籤、表單、表格、分隔線、標頭..etc)
    * css的應用(行內、內嵌、外連、flexbox、偽元素、動畫..etc)
    * bootstrap的應用(排版功能、元件、類別..etc)
    * javascript or jQuery的應用(DOM的操作、CSS的切換)

4. 請上傳至220的伺服器個人空間，並自行建立所需資料表
   
5. 請將完成品前後台及功能截圖五張放在ScreenShot資料夾下


### 必備要求
**後台功能**
* 請設計一個頁面可以用來輸入投票的題目 -- ok
* 可以控制題目的啟用與關閉

**前台功能**
* 請設計一個頁面可以看到目前進行投票的項目 -- ok
* 可以進行投票 -- ok
* 請設計一個頁面可以看到投票統計的結果 -- ok

**進階功能**
* 請整合註冊及登入系統 -- ok
* 能以長條圖或圖像化的方式來呈現統計的結果 -- ok
* 能判斷使用者的狀態，避免重覆投票 -- 採不記名投票,所以沒有做此功能

## 評量時間
2022-07-15(星期五)